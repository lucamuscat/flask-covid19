<!DOCTYPE html>

<head>
    <meta charset="utf-8">
    <title>COVID-19 Malta</title>
    <meta name="description" content="Real time Maltese Corona Virus Counter.">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="{{url_for('static', filename='style.css')}}">
</head>

<body>
    <div id="wrapper">
        <div class="row">
            <h1>{{country}}</h1>
        </div>

        <div class="row">
            Total Cases: {{corona_data.get("total_cases")}}
        </div>

        <div class="row">
            Population: {{population_data}}
        </div>

        <div class="row">
            New Cases: {{corona_data.get("new_cases")}}
        </div>

        <div class="row">
            Total Deaths: {{corona_data.get("total_deaths")}}
        </div>
        <div class="row">
            New Deaths: {{corona_data.get("new_deaths")}}
        </div>
        <div class="row">
            <input id="search" class="search" type="text" placeholder="Search Country" />
            <button id="submit" name="submit" autocomplete="off">Search</button>
        </div>
    </div>
    <div class="footer">
        Last Refresh: {{last_updated}}
    </div>

    <script>
        const button = document.getElementById("submit");
        const input = document.getElementById("search")
        const redirect = (country) => {
            window.location.href = `/Country/${country}`
        };
        button.addEventListener("click", function () {
            redirect(input.value)
        });
        input.addEventListener("keypress", function (event) {
            if (event.key === "Enter") {
                redirect(input.value)
            }
        });
    </script>

</body>

</html>